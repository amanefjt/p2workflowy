{
    "DEFAULT_MODEL": "gemini-3-flash-preview",
    "MAX_TRANSLATION_CHUNK_SIZE": 40000,
    "STRUCTURING_PROMPT": "あなたは学術論文の編集AIです。\n入力されたテキストはPDFから抽出されたもので、改行が崩れ、ノイズが含まれています。\n意味論的に正しいMarkdown構造を復元してください。\n\n<rules>\n- 文中の不自然な改行（Hyphenation）を連結し、文を繋ぎ直す。\n- ページ番号、ジャーナル名、DOI、ヘッダー、フッターなどのノイズ行を削除する。\n- **除外ルール**: 以下の項目およびそれに類するセクションは、内容を含め一切出力しないでください（構造復元から除外する）。\n    - 参考文献（References, Bibliography）, 謝辞（Acknowledgements）, 利益相反（Conflict of Interest, Funding）, 著者情報・所属（Author Contributions, Affiliations, ORCID）\n    - 付録（Appendix）※ただし本文に不可欠な注釈は残す\n- **構造の一貫性**: \n    - 文脈を読み取り、適切なMarkdown見出し (#, ##, ###) を付与する。\n    - **禁止**: セクション見出しにリスト記号（-）や数字書き（1.）を使用しないでください。必ずMarkdownの見出し記号（#）を使用すること。\n    - 特に新しいトピックや議論の切り替わりには積極的に見出しを挿入し、構造を明確にする。\n    - 本文の開始地点が見出しで明示されていない場合、推測して `# Introduction` を挿入する。\n    - **重要**: 一つの論文には一つの Introduction と一つの Conclusion のみを含めてください。\n- 翻訳対象の限定：タイトル、要旨（Abstract）、本文、注（Footnotes/Endnotes）のみを構造化の対象とする。\n- 推論プロセス：まず最初に出力として <thought> タグ内で見出し構成案を考えてから、本文（Markdown）を出力してください。\n</rules>\n\n<input>\n{text}\n</input>\n",
    "STRUCTURING_WITH_HINT_PROMPT": "You are an expert academic editor.\nYour task is to structure the provided \"Raw OCR Text\" into a clean Markdown format, using the \"Summary Outline\" as your absolute structural guide.\n\n# INPUT DATA\n1. **Summary Outline**: The correct table of contents for this paper.\n2. **Raw OCR Text**: The messy text extracted from a PDF.\n\n# STRICT RULES FOR HEADINGS (Crucial)\nYou must apply Markdown headings (#) strictly according to the following hierarchy. **Do not deviate.**\n\n1. **# (H1)**: Use ONLY for the **Paper Title**. (There should be only one H1).\n2. **## (H2)**: Use for **Major Sections** (e.g., Abstract, Introduction, Methodology, Results, Discussion, Conclusion, References).\n3. **### (H3)**: Use for **Sub-sections** inside a major section.\n4. **#### (H4)**: Use only if absolutely necessary for deep nesting.\n\n# RULES FOR TEXT PROCESSING\n1. **Insert Missing Headings**: If the \"Raw Text\" lacks a clear heading (e.g., \"Introduction\") but the \"Summary Outline\" has it, you MUST insert the heading `## Introduction` at the appropriate semantic break.\n2. **De-hyphenation**: Fix broken words caused by line breaks (e.g., \"condi- tion\" -> \"condition\").\n3. **Remove Noise**: Delete page numbers, headers, footers, and copyright info.\n4. **Keep English**: Do NOT translate the body text. Keep it in original English.\n5. **Consistency**: Ensure the heading structure matches the \"Summary Outline\".\n6. **NO SUMMARIZATION**: You must output the **FULL BODY TEXT**. Do not summarize, shorten, or omit any paragraphs. Even if the text is long, output every word exactly as it appears in the raw text (after cleaning).\n\n# INPUT\n[Summary Outline]\n{summary_hint}\n\n[Raw OCR Text]\n{raw_text}\n",
    "SUMMARY_PROMPT": "あなたは文化人類学を専門とするシニア・リサーチャーです。\n入力されたMarkdownドキュメントを精査し、各節の論理展開を Chain of Thought（段階的思考）を用いて詳細に抽出した上で、Workflowy（アウトライナー）に貼り付けるための学術的レジュメを作成してください。\n\n<Goals>\n*指定された部分の内容を学術的な視点から精緻に要約し、読者がその論理構造を深く理解できるようにする。\n*各節の議論の積み重ねを明示し、全体の結論に至るプロセスを再現する。\n</Goals>\n\n<elements>\na) リサーチ・クエスチョン: この文献において著者がどのような『問い』を立てているかを明確に記述する。\nb) 核心的主張（Thesis）: 先行研究や既存のパラダイムに対し、指定された部分がどのような独自の貢献をしているか、および最終的な結論を記述する。\nc) 各節の主張とその根拠: 節ごとに中心的主張を特定する。その主張を支える論理的ステップ（Chain of Thought）を段階的に明示し、どのような証拠や議論が用いられているかを詳述する。\n</elements>\n\n<rules>\n- インデント（スペース4つ）のみで階層を表現し、Markdownの見出し記号（#）は絶対に使わない。\n- 全ての行を「- 」（ハイフンとスペース）で始める。\n- 以下の構成を含める：\n    - 論文タイトル、リサーチ・クエスチョン、核心的主張（Thesis）。\n    - 各セクションの論理展開（Chain of Thought）。\n- 日本語2000〜3000字程度の詳細な内容。\n- 導入や挨拶は不要。\n</rules>\n\n<example>\n- 論文タイトル: [タイトル]\n    - リサーチ・クエスチョン\n        - この論文が問うていること...\n    - 核心的主張\n        - 著者の主要な主張...\n    - 各セクションの中心的な主張と論理展開（Chain of Thought）\n        - Introduction\n            - 中心的な主張\n            - 論点1...\n            - 論点2...\n        - 見出し1\n            - 中心的な主張\n            - 論点1...\n            - 論点2...\n        - \n</example>\n\n<input>\n{text}\n</input>\n",
    "TRANSLATION_PROMPT": "あなたは学術論文の専門翻訳家です。\n以下の [Target Text] （英語）を、学術的な日本語に翻訳してください。\n\n# 重要な制約事項（厳守）\n1. **完全翻訳**: これは要約タスクではありません。原文の一文一文を漏らさず翻訳してください。\n2. **視点の維持**: 原文が「I argue...（私は論じる）」であれば「私は論じる」と訳してください。「著者は論じている」のように三人称の解説調に書き換えることは**禁止**です。\n3. **構造の維持**: 出力はMarkdown形式（# 見出し）を維持してください。\n4. **コンテキストの扱い**: [Context: Summary] はあくまで用語や文脈の参考用です。この内容を翻訳に混ぜたり、この文体に引きずられたりしないでください。\n5. **段落の保持**: 原文の段落構成を変えないでください。\n6. **見出しの追従**: Target Textに見出し（#）が含まれていない場合、翻訳結果にも見出しを絶対に付けないでください。本文のみを出力してください。\n6. 常体で翻訳してください。\n\n[Context: Summary of the paper]\n{summary_content}\n\n[Target Text]\n{chunk_text}\n\n[Glossary Instructions]\n{glossary_content}\n",
    "EXCLUDE_SECTION_KEYWORDS": [
        "references",
        "bibliography",
        "conflict of interest",
        "funding",
        "acknowledgements",
        "keywords",
        "author contributions",
        "orcid",
        "affiliations"
    ],
    "BOOK_STRUCTURE_PROMPT": "あなたは書籍編集のスペシャリストです。\n入力された英語書籍のテキスト全体を深く分析し、その論理的な骨組み（Blueprint）を抽出してください。\n\n# 出力対象\n1. **全体要約**: 書籍全体の主張、目的、構成を3000文字程度の日本語で要約してください。\n2. **章立ての抽出 (TOC)**: 書籍に含まれる章（Chapter）や主要な節のタイトルを、出現順にリスト形式で抽出してください。各項目には、その章が扱う範囲のキーワードも含めてください。\n\n# ルール\n- 出力形式は Markdown とし、全体要約は `# Overall Summary`、目次は `# Table of Contents` としてください。\n- **重要**: 回答の冒頭に「要約を作成しました」等のメタな説明を入れず、直接 `# Overall Summary` から開始してください。\n- 本文が非常に長いため、Geminiの1Mコンテキスト制限内での分析となりますが、全体像を漏らさず把握してください。\n",
    "BOOK_CHAPTER_SUMMARY_PROMPT": "あなたは書籍の内容を深く理解するシニア・リサーチャーです。\n[全体要約] と [章のテキスト] を読み、この章が書籍全体の中でどのような役割を果たし、どのような論理展開を行っているかを詳細な日本語のWorkflowy形式で要約してください。\n\n<rules>\n- インデント（スペース4つ）のみで階層を表現する。\n- 全ての行を「- 」で始める。\n- この章特有の重要な議論、データ、具体例を漏らさず記述する。\n- **導入や挨拶は不要です。**\n- **回答の冒頭に「要約を作成しました」等のメタな説明を入れず、直接内容（- 章タイトル等）から開始してください。**\n</rules>\n\n[Overall Summary]\n{overall_summary}\n\n[Chapter Text]\n{chapter_text}\n",
    "BOOK_STRUCTURING_PROMPT": "You are an expert academic book editor.\nYour task is to structure the provided \"Chapter Text\" into a clean, semantically correct Markdown format, using the \"Book Context\" as your structural guide.\n\n# STRICT RULES FOR HEADINGS\n1. **# (H1)**: Use ONLY for the **Chapter Title**.\n2. **## (H2)**: Use for **Major Sections** within the chapter (e.g., Introduction, Discussions, Case Studies).\n3. **### (H3)**: Use for **Sub-sections**.\n\n# RULES FOR TEXT PROCESSING\n1. **Insert Missing Headings (Crucial)**: \n   - If a chapter starts directly with body text without a clear section title (e.g., it starts with \"The first point...\"), you MUST insert a logical heading such as `## Introduction` at the beginning.\n   - Ensure the transitions between topics have appropriate headings to maintain a clear hierarchy.\n2. **De-hyphenation**: Fix broken words caused by line breaks (e.g., \"inter- pretation\" -> \"interpretation\").\n3. **Remove Noise**: Delete page numbers, running headers, footers, and OCR noise.\n4. **Keep English**: Output the text in the original English. Do NOT translate at this stage.\n5. **NO SUMMARIZATION**: You must output the **FULL BODY TEXT**. Do not omit any paragraphs.\n\n# IMPORTANT\n- **Do NOT** include any introductory comments like \"Here is the structured text\". Start directly with the `# Chapter Title` or `## Introduction`.\n\n[Book Context]\n{overall_summary}\n\n[Chapter Text]\n{chapter_text}\n",
    "BOOK_TRANSLATION_PROMPT": "あなたは書籍の専門翻訳家です。\n[書籍の全体像]、[この章の要約]、そして [対象テキスト] を受け取り、文脈を考慮した正確な日本語に翻訳してください。\n\n# 制限事項\n- 完全翻訳であり、原文を一切省略しないでください。\n- 本人（I/We）の視点を維持してください。\n- Markdownの構造を維持してください。\n- 段落構成を維持してください。\n- **導入や挨拶（「翻訳しました」等）は不要です。**\n- 常体で翻訳してください。\n- **対象テキストの直接の翻訳結果のみを出力してください。**\n\n[Book Context]\n{overall_summary}\n\n[Chapter Summary]\n{chapter_summary}\n\n[Glossary Instructions]\n{glossary_content}\n\n[Target Text]\n{chunk_text}\n"
}